import{p as l,w as s}from"./chunk-ZCAUPVZ4.js";import{T as n,Y as o,sa as a,sc as r}from"./chunk-SBWLFRXJ.js";var m=class e{constructor(t,i){this._HttpClient=t;this._Router=i}_token=a(localStorage.getItem("token"));token=r(()=>this._token());isLoggedIn=r(()=>this._token()!==null);register(t){return this._HttpClient.post("/api/User/reg",t)}login(t){return this._HttpClient.post("/api/User/auth/login",t)}logOut(){localStorage.removeItem("token"),localStorage.removeItem("adminMail"),localStorage.removeItem("currentEmail"),localStorage.removeItem("userId"),this._token.set(null),this._Router.navigate(["/auth"])}setToken(t){localStorage.setItem("token",t),this._token.set(t)}static \u0275fac=function(i){return new(i||e)(o(l),o(s))};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};export{m as a};
