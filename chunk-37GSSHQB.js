import{a as Y}from"./chunk-YHBOXGFJ.js";import{a as G}from"./chunk-RADHKVGX.js";import{a as q,b as W}from"./chunk-RLGX5LS6.js";import{a as N}from"./chunk-KMMV5322.js";import"./chunk-GGQ7LRWG.js";import"./chunk-KKZOMRQT.js";import{a as $,b as B}from"./chunk-2QG7TMFK.js";import{a as A}from"./chunk-GEXROSZM.js";import"./chunk-BPDI45PX.js";import{a as z}from"./chunk-IRM2I5FG.js";import{e as E,f as F,j as V,w as j,x as R,z as y}from"./chunk-ZCAUPVZ4.js";import{$b as S,Bb as r,Cb as a,Db as s,Gb as P,Kb as g,Lb as p,Oa as T,Rb as d,Sa as c,Sb as O,U as _,Ya as f,_b as k,bb as L,cb as h,da as v,dc as D,ea as u,eb as w,ec as U,gb as C,rb as l}from"./chunk-SBWLFRXJ.js";var x=class t{transform(n){if(!n)return"";let e=n.split(",").map(o=>o.trim());if(e.length===3){let[o,i,m]=e;return`${o} ${i} ${m}`}return n}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=w({name:"formatInfo",type:t,pure:!0,standalone:!1})};var K=t=>["/customer/vehicles/vehicle-details",t],Q=t=>["/productdetails",t],X=()=>["/customer/vehicles"];function Z(t,n){t&1&&(r(0,"div",4),s(1,"app-loading"),a())}function ee(t,n){if(t&1){let e=P();r(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26),s(4,"img",27),a()(),r(5,"div",28)(6,"div",29)(7,"a",30),d(8),D(9,"formatInfo"),a()()(),r(10,"div",31)(11,"div")(12,"div",32)(13,"button",33),g("click",function(){let i=v(e).$implicit,m=p(3);return u(m.updateItemCount(i.vehicleId,i.quantity-1))}),d(14,"-"),a(),r(15,"span",34),d(16),a(),r(17,"button",35),g("click",function(){let i=v(e).$implicit,m=p(3);return u(m.updateItemCount(i.vehicleId,i.quantity+1))}),d(18,"+"),a()()()(),r(19,"div",36)(20,"div",37)(21,"div",38),g("click",function(){let i=v(e).$implicit,m=p(3);return u(m.removeItem(m.currentUserId,i.vehicleId))}),s(22,"i",39),a()()()()()}if(t&2){let e=n.$implicit;c(4),l("routerLink",S(8,K,e.vehicleId))("src",e==null||e.vehicleData==null?null:e.vehicleData.imagePath,T)("alt",e==null?null:e.vehicleId),c(3),l("routerLink",S(10,Q,e==null?null:e.vehicleId)),c(),O(U(9,6,e==null||e.vehicleData==null?null:e.vehicleData.info)),c(8),O(e==null?null:e.quantity)}}function te(t,n){if(t&1){let e=P();r(0,"div",7),C(1,ee,23,12,"div",18),r(2,"div",19)(3,"div",20)(4,"button",21),g("click",function(){v(e);let i=p(2);return u(i.onClearCart())}),s(5,"i",22),d(6," Clear All Products"),a()()()()}if(t&2){let e=p(2);c(),l("ngForOf",e.cartDetails.data)}}function ne(t,n){t&1&&(r(0,"div",40)(1,"div",41)(2,"p",42),d(3,"There are not vehicles yet."),a(),r(4,"button",43),d(5,"Add your first vehicle"),a()()()),t&2&&(c(4),l("routerLink",k(1,X)))}function oe(t,n){if(t&1&&(r(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"div",12)(8,"div"),s(9,"app-go-back"),a(),r(10,"div",13)(11,"h3",14),d(12,"Saved "),s(13,"i",15),a()()()()()()(),C(14,te,7,1,"div",16)(15,ne,6,2,"div",17),a()()()),t&2){let e=p();c(14),l("ngIf",(e.cartDetails==null?null:e.cartDetails.data)&&e.cartDetails.data.length>0),c(),l("ngIf",!e.cartDetails.data||e.cartDetails.data.length===0)}}var b=class t{constructor(n,e,o,i){this._SavedService=n;this._Router=e;this._ToastrService=o;this._IsLoadingService=i}cartDetails={data:[],count:0};currentUserId;isLoading=!0;ngOnInit(){this.currentUserId=localStorage.getItem("userId"),this.currentUserId&&this.getLoggedUserData()}getLoggedUserData(){this._SavedService.getLoggedUserData(this.currentUserId).subscribe({next:n=>{console.log("response",n),this.cartDetails=n,this.isLoading=!1},error:n=>{this.isLoading=!1}})}updateItemCount(n,e){if(e===0){let o=this._ToastrService.info("Deleting your vehicle...","",{disableTimeOut:!0});this.removeItem(this.currentUserId,n),this._ToastrService.clear(o.toastId),this._ToastrService.success("Vehicle Removed successfully")}else{let o=this._ToastrService.info("Waitng...","",{disableTimeOut:!0});this._SavedService.updateVehicle(this.currentUserId,n,e).subscribe({next:i=>{console.log("update cart",i),this.getLoggedUserData(),this.cartDetails=i.data,this._ToastrService.clear(o.toastId),this._ToastrService.success(`You have ${e} quantity now`)},error:i=>{console.log(i)}})}}removeItem(n,e){this._SavedService.removeVehicle(n,e).subscribe({next:o=>{console.log("remove",o),this.getLoggedUserData()},error:o=>{console.log(o)}})}onClearCart(){if(!(!this.cartDetails.data||this.cartDetails.data.length===0)){for(let n of this.cartDetails.data)this._SavedService.removeVehicle(this.currentUserId,n.vehicleId).subscribe({next:e=>{this._ToastrService.success("All vehicles have been removed from your cart.")},error:e=>{}});this._Router.navigate(["/customer/vehicles"]),this.getLoggedUserData()}}static \u0275fac=function(e){return new(e||t)(f(G),f(j),f(N),f(q))};static \u0275cmp=L({type:t,selectors:[["app-save-to-later"]],standalone:!1,decls:5,vars:3,consts:[[3,"navbarBg"],[1,"py-5"],["class","col-12 text-center py-3",4,"ngIf"],["class","container rounded-4",4,"ngIf"],[1,"col-12","text-center","py-3"],[1,"container","rounded-4"],[1,"cart","content","my-3","p-3"],[1,"row"],[1,"col-12"],[1,"head"],[1,"row","flex-column","flex-md-row"],[1,"col-12","col-md-6","mb-3","mb-md-0"],[1,"d-flex","align-items-center"],[1,"text","d-flex","align-items-center"],[1,"my-1","mx-2","font-bold","font-lg"],[1,"fa-solid","fa-car-side"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","col-12 py-3 after-product position-relative",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-center","align-items-center"],[1,"my-3"],[1,"btn","btn-danger","remove-all-vehicles",3,"click"],[1,"fa-solid","fa-trash-can","me-2"],[1,"col-12","py-3","after-product","position-relative"],[1,"row","align-items-center"],[1,"col-4","col-md-2","mb-3","mb-md-0"],[1,"image","overflow-hidden","w-100"],[1,"w-100","rounded-5","img-border","cursor-pointer",3,"routerLink","src","alt"],[1,"col-8","col-md-4","mb-3","mb-md-0"],[1,"info"],[1,"font-bold","font-md","second-color",3,"routerLink"],[1,"col-6","col-md-2","mt-3","mt-md-0"],[1,"count","font-md","p-1"],[1,"btn-plus",3,"click"],[1,"mx-3"],[1,"btn-minus",3,"click"],[1,"col-12","col-md-2","mt-3","mt-md-0","text-end","text-md-center"],[1,"remove-product"],[1,"icon-remove","d-flex","justify-content-center","align-items-center","cursor-pointer","ms-auto","me-md-auto",3,"click"],[1,"fa-solid","fa-xmark"],[1,"d-flex","justify-content-center","align-items-center"],[1,"my-5","text-center"],[1,"mb-3"],[1,"btn-add-vehicle-fav",3,"routerLink"]],template:function(e,o){e&1&&(s(0,"app-navbar",0),r(1,"section",1),C(2,Z,2,0,"div",2)(3,oe,16,2,"div",3),a(),s(4,"app-footer")),e&2&&(l("navbarBg",!0),c(2),l("ngIf",o._IsLoadingService.isLoading()),c(),l("ngIf",!o._IsLoadingService.isLoading()))},dependencies:[E,F,R,$,B,W,Y,x],styles:['.container[_ngcontent-%COMP%]{background-color:#f0f3f2;margin:20px auto!important}@media (min-width: 768px){.container[_ngcontent-%COMP%]{margin:100px auto 250px!important}}.arrow-button[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border:none;border-radius:50%;width:40px;height:40px;transition:all .4s}.arrow-button[_ngcontent-%COMP%]:hover{transform:translate(-10px) scale(1.1)}.main-color[_ngcontent-%COMP%]{color:var(--main-color)}.second-color[_ngcontent-%COMP%]{color:var(--second-color)}.img-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.0352941176)}.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .4s;display:block;font-size:14px}@media (min-width: 768px){.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--main-color)}.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:300;font-size:14px}@media (min-width: 768px){.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}}.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-weight:500}.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.5;font-size:12px}@media (min-width: 768px){.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.cart[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:1!important;color:#22c55e}.btn-add-vehicle-fav[_ngcontent-%COMP%]{border:none;background-color:var(--primary-color);border-radius:20px;padding:8px 15px;color:#fff;transition:all .3s}.btn-add-vehicle-fav[_ngcontent-%COMP%]:hover{background-color:#02ade3}.remove-all-vehicles[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{animation:tilt .5s infinite ease-in-out}.after-product[_ngcontent-%COMP%]:after{content:"";width:90%;height:2px;background-color:#e5e7eb;position:absolute;top:100%;left:50%;transform:translate(-50%)}.cart[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{border:1px solid #d6d7da;border-radius:15px;width:fit-content}.btn-plus[_ngcontent-%COMP%], .btn-minus[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all .3s;padding:0 10px}.btn-plus[_ngcontent-%COMP%]:hover, .btn-minus[_ngcontent-%COMP%]:hover{color:var(--main-color)}.remove-product[_ngcontent-%COMP%]   .icon-remove[_ngcontent-%COMP%]{width:30px;height:30px;border:2px solid rgba(220,38,38,0);border-radius:50%;transition:all .4s}.remove-product[_ngcontent-%COMP%]   .icon-remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;transition:all .4s;color:#6b7280cc}.remove-product[_ngcontent-%COMP%]   .icon-remove[_ngcontent-%COMP%]:hover{border-color:#dc2626}.remove-product[_ngcontent-%COMP%]   .icon-remove[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(180deg);color:#dc2626}.check-out[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border:1px solid #d6d7da;border-radius:10px;background-color:#fff;color:var(--primary-color);padding:10px 20px;transition:all .4s}.content[_ngcontent-%COMP%]{min-height:30vh!important}.check-out[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);border-color:var(--primary-color);color:#fff}.product-price[_ngcontent-%COMP%]{font-size:14px}@media (min-width: 768px){.product-price[_ngcontent-%COMP%]{font-size:16px}}.rating-color[_ngcontent-%COMP%]{color:#ffc107}']})};var ie=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:b},{path:"**",component:z}],M=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=h({type:t});static \u0275inj=_({imports:[y.forChild(ie),y]})};var H=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=h({type:t});static \u0275inj=_({imports:[V,M,A]})};export{H as SavedModule};
